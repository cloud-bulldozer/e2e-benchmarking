###################
### ACS Metrics ### https://github.com/stackrox/stackrox/blob/master/tests/performance/scale/tests/kube-burner/cluster-density/metrics.yml
###################

# ACS - Central

- query: go_goroutines{namespace="stackrox",container="central"}
  metricName: central_go_goroutines


# ACS - Sensor

- query: go_goroutines{namespace="stackrox",container="sensor"}
  metricName: sensor_go_goroutines

# ACS - Collector

- query: exposer_request_latencies{namespace="stackrox",container="collector"}
  metricName: collector_exposer_request_latencies

# ACS Global

- query: (sum(irate(container_cpu_usage_seconds_total{name!="",container!="POD",namespace="stackrox"}[2m]) * 100) by (container, pod, namespace))
  metricName: stackrox_container_cpu

- query: (sum(container_memory_rss{name!="",container!="POD",namespace="stackrox"}) by (container, pod, namespace))
  metricName: stackrox_container_memory

- query: (sum(container_memory_working_set_bytes{name!="",container!="POD",namespace="stackrox"}) by (container, pod, namespace))
  metricName: stackrox_container_memory_working_set_bytes
